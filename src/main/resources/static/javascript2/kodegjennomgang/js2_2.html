<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ukesoppgaver - JavaScript 2</title>
  <script type="application/javascript">
    function visPersonRegister(){
      const personRegister=[];
      const person1 = {
        navn : "Line Jensen",
        adresse : "Askerveien 82",
        telefonnr : "12334455"
      };
      personRegister.push(person1);
      const person2 = {
        navn : "Ole Hansen",
        adresse : "Osloveien 82",
        telefonnr : "99887766"
      };
      personRegister.push(person2);

      //
      // EKSTRAOPPGAVE 1 - flere personer
      //
      const person3 = {
        navn : "Jens Jensen",
        adresse : "Osloveien 101",
        telefonnr : "99276566"
      };
      personRegister.push(person3);
      const person4 = {
        navn : "Krølle Velle",
        adresse : "Nordlandsveien 1",
        telefonnr : "99123243"
      };
      personRegister.push(person4);
      const person5 = {
        navn : "Ole Bull",
        adresse : "Østre Aker veg 5",
        telefonnr : "41987890"
      };
      personRegister.push(person5);

      // skriv ut
      let ut = "<table><tr>" +
              "<th>Navn</th><th>Adresse</th><th>Telefonnr</th>" +
              "</tr>";
      for (let p of personRegister){
        ut+="<tr>";
        ut+="<td>"+p.navn+"</td><td>"+p.adresse+"</td><td>"+p.telefonnr+"</td>";
        ut+="</tr>";
      }
      ut+="</table>";

      //document.getElementById("personRegister").innerHTML=ut;

      //
      // EKSTRAOPPGAVE 2 og 3 - sortering og ny utskrift m/annenhver rad fet
      //
      function compare(a, b) {
        if ( a.navn < b.navn ){
          return -1;
        }
        if ( a.navn > b.navn ){
          return 1;
        }
        return 0;
      }
      personRegisterSortert = personRegister.sort(compare);

      ut+="<br /><br />";
      ut+="Sortert:<br />";
      ut+= "<table><tr>" +
              "<th>Navn</th><th>Adresse</th><th>Telefonnr</th>" +
              "</tr>";

      let teller=0;
      for (let p of personRegisterSortert){
        if(teller % 2 == 0) {
          ut+="<tr>";
          ut+="<td>"+p.navn+"</td><td>"+p.adresse+"</td><td>"+p.telefonnr+"</td>";
          ut+="</tr>";
        } else {
          ut+="<tr>";
          ut+="<td><strong>"+p.navn+"</strong></td><td><strong>"+p.adresse+
                  "</strong></td><td><strong>"+p.telefonnr+"</strong></td>";
          ut+="</tr>";
        }
        teller++;
      }
      ut+="</table>";

      //
      // EKSTRAOPPGAVE 4 og 5 - legg til f.nr. og ny utskrift m/kvinner i fet skrift
      // Denne er vanskelig, og vi har ikke gjennomgått toString().
      // Kunne dog også brukt "(''+p.fnr)[8]" eller bare latt fnr være en streng.
      //
      ut+="<br /><br />";
      ut+="Med f.nr. og kvinner i fet skrift:<br />";
      ut+= "<table><tr>" +
              "<th>Navn</th><th>Adresse</th><th>Telefonnr</th><th>Fødselsnummer</th>" +
              "</tr>";

      //legger til fiktive fødselsnumre
      personRegisterSortert[0].fnr = 11028348143;
      personRegisterSortert[1].fnr = 14078548977;
      personRegisterSortert[2].fnr = 21059944243;
      personRegisterSortert[3].fnr = 30110043316;
      personRegisterSortert[4].fnr = 30120141197;

      for (let p of personRegisterSortert){
        // dersom det 9. sifferet i fødselsnummeret er et partall, tilhører det en kvinne
        if(p.fnr.toString()[8] % 2 == 0) {
          ut+="<tr>";
          ut+="<td><strong>"+p.navn+"</strong></td><td><strong>"+p.adresse+
                  "</strong></td><td><strong>"+p.telefonnr+"</strong></td><td><strong>"+p.fnr+"</strong></td>";
          ut+="</tr>";
        } else {
          ut+="<tr>";
          ut+="<td>"+p.navn+"</td><td>"+p.adresse+"</td><td>"+p.telefonnr+"</td><td>"+p.fnr+"</td>";
          ut+="</tr>";
        }
      }
      ut+="</table>";

      document.getElementById("personRegister").innerHTML=ut;
    }

  </script>
</head>
<body>
<button onclick="visPersonRegister()">Vis personregister</button>
<div id="personRegister"></div>
</body>
</html>